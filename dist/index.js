var l=Object.defineProperty;var s=n=>l(n,"__esModule",{value:!0});var p=(n,e)=>{s(n);for(var r in e)l(n,r,{get:e[r],enumerable:!0})};p(exports,{levelPrefix:()=>o,shape:()=>a,toString:()=>d});function h(n,e){return JSON.stringify(n)===JSON.stringify(e)}function y(n){return JSON.parse(JSON.stringify(n))}function o(n){return[...Array(n*2).keys()].map(e=>" ").join("")}function d(n,e=0){switch(n.kind){case"scalar":return o(e)+n.name;case"array":return o(e)+`Array of
`+d(n.children,e+1);case"object":return o(e)+(`Object with
`+Object.keys(n.children).map(r=>`${o(e+1)}'${r}' of
${d(n.children[r],e+2)}`).join(`,
`));case"varied":return n.children.map(r=>d(r,e)).join(` or
`);case"unknown":return o(e)+"Unknown"}}function k(n,e){for(let r of n.children)if(h(r,e))return;n.children.push(e)}function b(n,e){let r=Object.keys(n.children),c=Object.keys(e.children);for(let t=0;t<r.length;t++){let i=r[t];if(c.includes(i)){if(h(n.children[i],e.children[i]))continue;if(n.children[i].kind===e.children[i].kind){n.children[i]={kind:"varied",children:[n.children[i],e.children[i]]};continue}if(n.children[i].kind==="varied"){k(n.children[i],e.children[i]);continue}}}for(let t=0;t<c.length;t++){let i=c[t];r.includes(i)||(n.children[i]={kind:"varied",children:[e.children[i],{kind:"scalar",name:"null"}]})}}function f(n,e){if(!e||n<=e)return[...Array(n).keys()].map((c,t)=>t);let r=[];for(;r.length<e;){let c=Math.floor(Math.random()*(n-1))+1;r.indexOf(c)===-1&&r.push(c)}return r}function g(n,e){let r={kind:"array",children:{kind:"unknown"}};if(!n.length)return r;let c=f(n.length,e);r.children=n[0];for(let t=0;t<c.length;t++){let i=n[c[t]];if(!h(r.children,i)){if(r.children.kind==="unknown"){r.children=i;continue}if(r.children.kind===i.kind){if(i.kind==="object"){b(r.children,i);continue}if(i.kind==="array")continue}r.children={kind:"varied",children:[y(r.children),i]}}}return r}function m(n,e){let r=n.map(c=>a(c,e));return g(r,e)}function S(n,e){let r=Object.keys(n),c=f(r.length,e),t={kind:"object",children:{}};for(let i=0;i<c.length;i++){let u=r[c[i]];t.children[u]=a(n[u],e)}return t}function a(n,e=5e3){try{return Array.isArray(n)?m(n,e):n===null?{kind:"scalar",name:"null"}:typeof n=="object"?S(n,e):typeof n=="number"?{kind:"scalar",name:"number"}:typeof n=="bigint"?{kind:"scalar",name:"bigint"}:typeof n=="undefined"?{kind:"scalar",name:"null"}:typeof n=="boolean"?{kind:"scalar",name:"boolean"}:{kind:"scalar",name:"string"}}catch(r){return console.error(r),{kind:"unknown"}}}0&&(module.exports={levelPrefix,shape,toString});
//# sourceMappingURL=index.js.map
